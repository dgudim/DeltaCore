{
  "textures": "bossStarDestroyer.atlas",
  "spawnAt": [850, 170],
  "spawnConditions": {
    "score": 19000,
    "randomness": 1000
  },
  "hasAi": true,
  "parts": {
    "body": {
      "type": "basePart",
      "health": 10000,
      "regeneration": 50,
      "hasCollision": true,
      "width": 254,
      "height": 138,
      "originX": "standard",
      "originY": "standard",
      "hasAnimation": true,
      "texture": "phase1",
      "frameDuration": 0.1,
      "explosionEffect": "particles/explosion_destroyer.p",
      "explosionScale": 1,
      "explosionSound": "sfx/explosion.ogg",
      "layer": 1,
      "drops": {
        "items": {
          "timer": 1.3,
          "rarity": [3, 5],
          "count": [1, 3]
        },
        "money": {
          "timer": 1.3,
          "count": [3, 15]
        },
        "bonuses": {
          "type": [1, 3],
          "chance": 100
        }
      }
    },
    "cannonTop": {
      "type": "cannon",
      "drawBulletsOnTop": true,
      "width": 2,
      "height": 2,
      "originX": 1,
      "originY": 1,
      "texture": "noTexture",
      "bullet": {
        "hasCollisionWithPlayerBullets": true,
        "texture": "bullet_destroyer_rocket",
        "speed": 90,
        "damage": 15,
        "homing": true,
        "explosionTimer": 3.5,
        "homingSpeed": 130,
        "trail": "particles/bullet_trail_left_yellow.p",
        "trailScale": 0.3,
        "trailOffset": [13, 0],
        "explosionEffect": "particles/explosion.p",
        "explosionScale": 0.3,
        "height": 8,
        "width": 13.34
      },
      "layer": 3,
      "offset": {
        "relativeTo": "body",
        "X": 140,
        "Y": 102
      },
      "bulletSpread": 9.5,
      "bulletOffset": [0, 0],
      "bulletsPerShot": 3,
      "shootSound": "sfx/gun2.ogg",
      "fireRate": {
        "initialDelay": 0,
        "baseRate": 0.3,
        "randomness": 0
      }
    },
    "cannonBottom": {
      "type": "clone",
      "copyFrom": "cannonTop",
      "override": {
        "offset": {
          "relativeTo": "body",
          "X": 140,
          "Y": 34
        },
        "fireRate": {
          "initialDelay": 0.3,
          "baseRate": 0.3,
          "randomness": 0
        }
      }
    },
    "cannonLaserTop": {
      "type": "cannon",
      "width": 2,
      "height": 2,
      "originX": 1,
      "originY": 1,
      "offset": {
        "relativeTo": "body",
        "X": 0,
        "Y": 90
      },
      "powerUpEffect": "particles/laser_powerup_red.p",
      "powerUpShootDelay": 1.1,
      "powerUpEffectOffset": [0, 10],
      "powerUpEffectScale": 0.5,
      "powerDownEffect": "particles/smoke.p",
      "powerDownEffectOffset": [130, 10],
      "powerDownEffectScale": 1,
      "bullet": {
        "isLaser": true,
        "texture": "bullet_laser",
        "fadeOutTimer": 1,
        "damage": 0.05,
        "height": 20,
        "color": "ff0000ff",
        "screenShakeOnHit": 3,
        "screenShakeDuration": 0.001
      },
      "bulletSpread": 0,
      "bulletOffset": [0, 0],
      "bulletsPerShot": 1,
      "shootSound": "sfx/laser.ogg",
      "fireRate": {
        "initialDelay": 0,
        "baseRate": 0.3,
        "randomness": 0
      },
      "texture": "noTexture",
      "layer": 0
    },
    "cannonLaserBottom": {
      "type": "clone",
      "copyFrom": "cannonLaserTop",
      "override": {
        "offset": {
          "relativeTo": "body",
          "X": 0,
          "Y": 46
        },
        "fireRate": {
          "initialDelay": 0.15,
          "baseRate": 0.3,
          "randomness": 0
        }
      }
    }
  },
  "groups": {
    "allCannons": "cannonTop, cannonBottom, cannonLaserTop, cannonLaserBottom",
    "topCannons": "cannonTop, cannonLaserTop"
  },
  "phases": {
    "initialisingPhase": {
      "bodyInit": {
        "target": "body",
        "move": {
          "moveLinearX": {
            "moveBy": -190,
            "speed": 5
          },
          "moveLinearX": {
            "moveBy": -210,
            "speed": 5
          }
        }
      }
    },
    "inPlacePhase": {
      "bodyInPlace": {
        "target": "body",
        "enableCollisions": true,
        "showHealthBar": true
      }
    },
    "secondPhase": {
      "bodyChangePhase": {
        "target": "body",
        "active": true,
        "changeTexture": "phase2",
        "frameDuration": 0.0334,
        "ai": {
          "xBounds": [400, 800],
          "yBounds": [0, 480],
          "basePosition": [530, 170],
          "dodgeBullets": true,
          "bulletDodgeSpeed": 130,
          "followPlayer": true,
          "playerFollowSpeed": 90,
          "playerNotDamagedMaxTime": 5,
          "playerInsideEntityMaxTime": 2
        }
      },
      "allCannonsActivate": {
        "target": "group:allCannons",
        "active": true
      }
    },
    "thirdPhase": {
      "bodyChangePhase": {
        "target": "body",
        "changeTexture": "phase3",
        "frameDuration": 0.0334,
        "move": {
          "shake": {
            "shakeIntensityX": 7,
            "shakeIntensityY": 7,
            "shakePeriod": 0.3
          }
        },
        "ai": {
          "xBounds": [400, 800],
          "yBounds": [0, 480],
          "basePosition": [530, 170],
          "dodgeBullets": false,
          "followPlayer": true,
          "playerFollowSpeed": 110,
          "playerNotDamagedMaxTime": 1.3,
          "playerInsideEntityMaxTime": 1.7
        }
      },
      "topCannonsDeactivate": {
        "target": "group:topCannons",
        "active": false
      }
    },
    "deathAnimationPhase": {
      "bodyDie": {
        "target": "body",
        "enableCollisions": false,
        "showHealthBar": false,
        "active": false,
        "move": {
          "moveLinearY": {
            "moveBy": -900,
            "speed": 5,
            "stopPreviousAnimations": true
          },
          "moveLinearX": {
            "moveBy": -100,
            "speed": 1
          },
          "rotate": {
            "moveBy": 360,
            "speed": 1
          }
        }
      }
    },
    "RESET": {
      "bodyReset": {
        "target": "body",
        "changeTexture": "phase1",
        "frameDuration": 0.1
      }
    }
  },
  "phaseTriggers": {
    "inPlacePhase": {
      "trigger0": {
        "triggerType": "positionX",
        "triggerModifier": "<=",
        "target": "body",
        "value": 510
      }
    },
    "secondPhase": {
      "trigger0": {
        "triggerType": "health",
        "triggerModifier": "<=",
        "target": "body",
        "value": 9999
      }
    },
    "thirdPhase": {
      "trigger0": {
        "triggerType": "health",
        "triggerModifier": "<=",
        "target": "body",
        "value": 3100
      }
    },
    "deathAnimationPhase": {
      "trigger0": {
        "triggerType": "health",
        "triggerModifier": "<=",
        "target": "body",
        "value": 0
      }
    },
    "RESET": {
      "trigger0": {
        "triggerType": "positionY",
        "triggerModifier": "<=",
        "target": "body",
        "value": -200
      }
    }
  }
}